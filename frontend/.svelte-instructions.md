# Svelte 5 Development Guidelines

## üö® CRITICAL: Always Use Svelte MCP and Svelte 5 Runes

**ALL Svelte/SvelteKit development MUST follow these rules:**

### üîç **Before Any Svelte Code Changes:**
1. **ALWAYS** call `mcp_svelte_list-sections` first to see available documentation
2. **ALWAYS** call `mcp_svelte_get-documentation` with relevant sections before implementing
3. **NEVER** implement Svelte code without consulting current Svelte 5 documentation

### üèóÔ∏è **Svelte 5 Runes Usage (MANDATORY):**

#### State Management
```typescript
// ‚úÖ CORRECT: Use $state rune
export const userState = $state<User | null>(null);
export const isLoading = $state(false);

// ‚ùå WRONG: Never use legacy stores
// const userStore = writable<User | null>(null);
```

#### Reactive Statements
```svelte
<script>
  let count = $state(0);
  let doubled = $derived(count * 2);

  // ‚úÖ CORRECT: Use $effect for side effects
  $effect(() => {
    console.log('Count changed:', count);
  });

  // ‚ùå WRONG: Never use reactive statements
  // $: console.log('Count changed:', count);
  // $: doubled = count * 2;
</script>
```

#### Component Props
```svelte
<script>
  // ‚úÖ CORRECT: Use $props rune
  let { title, items = $bindable() } = $props<{
    title: string;
    items?: string[];
  }>();

  // ‚ùå WRONG: Never use export let
  // export let title: string;
  // export let items: string[] = [];
</script>
```

#### Template Syntax
```svelte
<!-- ‚úÖ CORRECT: Use {@render ...} -->
{@render children()}

<!-- ‚ùå WRONG: Never use <slot /> -->
<!-- <slot /> -->
```

### üìö **Documentation Lookup Process:**

1. **Identify the task** (e.g., "implement form validation")
2. **Call `mcp_svelte_list-sections`** to see all available docs
3. **Analyze use_cases** to find relevant sections
4. **Call `mcp_svelte_get-documentation`** with ALL relevant sections
5. **Read and understand** the documentation thoroughly
6. **Implement using** the documented patterns

### üîÑ **Migration Checklist:**

When working with existing code:
- [ ] Replace `writable()` stores with `$state`
- [ ] Replace `$store` syntax with direct state access
- [ ] Replace `$:` reactive statements with `$effect` or `$derived`
- [ ] Replace `export let` with `$props`
- [ ] Replace `<slot />` with `{@render children()}`
- [ ] Remove `import { writable } from 'svelte/store'`

### üõ†Ô∏è **Tools to Use:**

- `mcp_svelte_list-sections` - List all available documentation
- `mcp_svelte_get-documentation` - Get specific documentation sections
- `mcp_svelte_svelte-autofixer` - Fix Svelte code issues
- `mcp_svelte_playground-link` - Create playground links for testing

### ‚ö†Ô∏è **Red Flags (DO NOT DO):**

- Using `writable()`, `readable()`, `derived()` from `svelte/store`
- Using `$storeName` syntax in templates
- Using `$:` reactive statements
- Using `export let` for props
- Using `<slot />` in templates
- Implementing without checking documentation first

### üìã **Implementation Steps:**

1. **Read the task** and understand requirements
2. **Call `mcp_svelte_list-sections`** to explore docs
3. **Identify relevant sections** from use_cases
4. **Call `mcp_svelte_get-documentation`** with selected sections
5. **Study the documentation** carefully
6. **Implement using Svelte 5 patterns**
7. **Run `mcp_svelte_svelte-autofixer`** to validate code
8. **Test the implementation**

### üéØ **Quality Assurance:**

After implementation:
- Run `bun run build` to ensure compilation
- Run `bun run lint` for code quality
- Run `bun run test` for functionality
- Use `mcp_svelte_svelte-autofixer` to check for issues

---

**REMEMBER: Svelte 5 runes are the ONLY acceptable way to write Svelte code in this project. Always consult MCP documentation first!**
